# =============================================================================
# Async Agent - Docker Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.docker.example .env
#
# Then start with:
#   docker-compose up -d
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Anthropic API Key
# -----------------------------------------------------------------------------
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-api-key-here

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# The password for the PostgreSQL database
# Change this to a secure password in production!
POSTGRES_PASSWORD=changeme123

# Database URL for Alfred CLI (connects to Docker PostgreSQL on localhost:5432)
# This is needed for the CLI to access the database from your host machine
# Note: If you change POSTGRES_PASSWORD above, update the password here too
DATABASE_URL=postgresql://asyncagent:changeme123@localhost:5432/async_agent?schema=public&connection_limit=5

# -----------------------------------------------------------------------------
# Agent Model Configuration
# -----------------------------------------------------------------------------
# Model used for all operations (one-off agents, workflows, and classification)
AGENT_MODEL=claude-haiku-4-5

# Agent timeout (milliseconds) - 5 minutes default
AGENT_TIMEOUT_MS=300000

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port to expose the service on your host machine
PORT=3001

# Request timeout (milliseconds) - 6 minutes default
REQUEST_TIMEOUT_MS=360000

# CORS allowed origins (comma-separated, or * for all)
CORS_ORIGIN=*

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Maximum requests per window
RATE_LIMIT_MAX=60

# Rate limit window (milliseconds) - 1 minute default
RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# File Storage Configuration
# -----------------------------------------------------------------------------
# Maximum file upload size in MB
MAX_FILE_SIZE_MB=50

# Base URL for file access (change if behind reverse proxy)
FILE_STORAGE_BASE_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# MCP Connections (Optional)
# -----------------------------------------------------------------------------
# JSON-encoded MCP server configurations
# Example:
# MCP_CONNECTIONS={"filesystem":{"command":"npx","args":["-y","@modelcontextprotocol/server-filesystem","/workspace"]}}
MCP_CONNECTIONS={}

# -----------------------------------------------------------------------------
# Optional: Custom Prompts
# -----------------------------------------------------------------------------
# Override default prompts (or edit files in ./prompts/ directory)
# SYSTEM_PROMPT=You are a helpful assistant...
# USER_PROMPT_PREFIX=Please help with:

# -----------------------------------------------------------------------------
# Optional: Disallowed Tools
# -----------------------------------------------------------------------------
# Comma-separated list of tools to disable
# DISALLOWED_TOOLS=Bash,Write
